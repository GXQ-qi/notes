## 数据编码与表示
- 数值数据: 两种形式 -> 定点格式\浮点格式
- 符号数据: 文字\标点等符号
选择计算机的数的表示方法时, 需要考虑以下因素:
1. 数的类型
2. 数值范围
3. 精度
4. 硬件代价
### 数据格式
#### 定点数
定点 -> 约定机器中数据的小数点位置是不变的
一般来说定点格式只表示**纯整数**和**纯小数**
##### 纯整数
一位符号位, 剩下的存二进制数据
##### 纯小数
最高位为符号位, 小数点在符号位之后, 表示的数值绝对值范围为0 ~ 1-2^n
#### 浮点数
> [! ] 浮点数
> 将任意一个二进制数N表示为 N = 2^e \* M 的形式, 然后分别存输 e与M, 这样小数点的位置就不是固定的, 称为浮点数.
> - M称为浮点数的**尾数**, 是一个纯小数
> - e是比例因子的指数, 称为浮点数的**指数**, 是一个整数
> - 2在这里是**基数**

阶码表示小数点所在的位置, 其实就是二进制的指数, 决定了浮点数的精度.
- 阶码越长表示的数字范围越大, 精度越小
- 尾数越长表示精度越高, 范围,,看阶码
![[浮点数存储形式.png]]
#### 十进制数串
- 字符串形式->一个字节放一位
- 压缩的十进制数--BCD码->四位二进制位放一位十进制
### 数据的机器码表示
**原码、补码、反码、移码**
#### 原码
第一位符号位, 之后纯数字
#### 补码
第一位加上负号, 若为零, 则无影响; 若为一则整体变为负数
#### 反码
正数与原码一样
负数将原码各位取反
#### 移码
将每个数值加上一个偏移值bias
当编码位数为n位时, 移码定义为\[x]移 = x + 2^(n-1)
![[Pasted image 20250306162235.png]]

![[Pasted image 20250306162249.png]]
![[Pasted image 20250306163636.png]]
##### 浮点数的机器码表示
当前计算机都采用IEEE754标准![[IEEE754示意图.png]]
### 字符与字符串表示
- ASCII码
- 统一码Uniocode, 范围是0x0000 ~ 0x10FFFF->前一个字节划分了17个平面, 在每个平面里有两个字节的位置编码字符
- UTF-8->变长编码
- 汉字编码->1. 汉字输入到计算机-汉字输入法->2. 计算机内部的表示和存储 – 汉字内码->3. 计算机向外部显示和打印– 汉字字形（字模）码

### 校验码
- 奇校验，加上校验位后，传输的‘1’的个数一定为奇数
- 偶校验。。。
- 奇偶校验能检测奇数个错误，不能检测偶数个错误
### 移位操作

## 定点加法、减法运算
### 补码
#### 加法
- 整数 -> \[x]补 + \[y]补 = \[x+y]补 ->(mod 2^n+1)
- 小数 -> \[x]补 + \[y]补 = \[x+y]补 ->(mod 2)
#### 减法
- 整数 -> \[x]补 - \[y]补 = \[x-y]补 ->(mod 2^n+1)
- 小数 -> \[x]补 - \[y]补 = \[x-y]补 ->(mod 2)

### 溢出
- 正溢出
- 负溢出
#### 双符号位法
使用**变形补码**
## 定点乘法
### 原码一位乘法运算
### 无符号的阵列乘法
### 有符号的阵列乘法
## 定点除法
# 运算器
### 定点运算器的组成
OF: 溢出
CF: 进位
## 全加器
### 一位全加器
Si = A⊕B⊕C
Ci+1 = AB + (A⊕B)Ci
### 多位全加器
- 串联多个一位加法器*串行进位*  -> *行波进位*的**补码**加法器
#### 行波进位补码加法器
![[Pasted image 20250313160023.png]]


> [!既能实现加法,也能实现减法] 
> 使用M控制.

计算时间延迟
串行加法器要**等进位**.
![[Pasted image 20250313160836.png]]
#### 改进-进位逻辑 -> 4位先行进位加法器CLA
**==先行进位==**
> [!想法]
> 想法是本位是否进位不要等前一位的进位, 而是关联前前前..位的进位, 且只与最前面的进位有关, 剩下的信号都能当前拿到. 节省等待进位的时间.

![[Pasted image 20250313161621.png]]
成品CLA：
组内先行进位, 组间串行进位
![[Pasted image 20250313161850.png]]
## 定点运算器的构成
典型运算器包括:
- 算是逻辑运算单元ALU
- 陈列乘除法器
- 寄存器组
- 多路选择器
- 三态门
- 数据总线
### 三态门
### 多路复用器/多路分配器
- Multiplexor -> 通过地址输入选择多路输入中的一路作为输出
- Demultiplexor -> 通过地址输入选择一路输入在多路输出中的某一路输出
### 译码器/编码器
- 译码器: 将二进制码译出来
- 编码器: 将输入进行二进制编码
### 寄存器Register
#### 寄存器组
使用数据选择器/分配器实现
### 总线
所处位置:
- 内部总线(CPU内)
- 外部总线(系统总线)
逻辑结构
- 单向
- 双向
## 逻辑运算
![[Pasted image 20250313165441.png]]

### BCD码加法
矫正逻辑: BCD码进行十进制运算时, 当和数大于9时, 必须对和数进行加6修正
### 单总线&双总线
## 浮点运算法和浮点运算器